%
% Copyright © 2012 Peeter Joot.  All Rights Reserved.
% Licenced as described in the file LICENSE under the root directory of this GIT repository.
%

%
%
\label{chap:inclinedFlowWithoutConstantHeightAssumption}
\section{Motivation}

In an informal discussion after class, it was claimed that the steady state flow down a plane would have constant height, unless you bring surface tension effects into the mix.  Part of that statement just does not make sense to me.  Consider the forces acting on the fluid in the \cref{fig:inclinedFlowWithoutConstantHeightAssumption:inclinedFlowWithoutConstantHeightAssumptionFig1}

\imageFigure{../../figures/phy454/inclinedFlowWithoutConstantHeightAssumptionGravitational_force_components_acting_on_fluid_flowing_down_a_planeFig1}{Gravitational force components acting on fluid flowing down a plane}{fig:inclinedFlowWithoutConstantHeightAssumption:inclinedFlowWithoutConstantHeightAssumptionFig1}{0.3}

In the inclined reference frame we have a component of the force acting downwards (in the negative y-axis direction), and have a component directed down the x-axis.  Would not this act to both push the fluid down the plane and push part of the fluid downwards?  I had expect this to introduce some vorticity as depicted.

While we are just about to start covered surface tension, perhaps this is just allowing the surface to vary, and then solving the Navier-Stokes equations that result.  Let us try setting up the Navier-Stokes equation for steady state viscous flow down a plane without any assumption that the height is constant and see how far we can get.

\section{Equations of motion}

We will use the same coordinates as before, with the directions given as in \cref{fig:inclinedFlowWithoutConstantHeightAssumption:inclinedFlowWithoutConstantHeightAssumptionFig2}.  However, this time, we let the height \(h(x)\) of the fluid at any distance \(x\) down the plane from the initial point vary.

\pdfTexFigure{../../figures/phy454/inclinedFlowWithoutConstantHeightAssumptionFig2.pdf_tex}{Diagram of coordinates for inclined flow problem}{fig:inclinedFlowWithoutConstantHeightAssumption:inclinedFlowWithoutConstantHeightAssumptionFig2}{0.4}

For viscous incompressible flow down the plane our equations of motion are

\begin{subequations}
\label{eqn:inclinedFlowWithoutConstantHeightAssumption:20}
\begin{equation}\label{eqn:inclinedFlowWithoutConstantHeightAssumption:380}
\rho \PD{t}{u} + \rho (u \partial_x + v \partial_y) u = -\partial_x p + \mu \left(\partial_{xx} + \partial_{yy}\right) u + \rho g \sin\alpha
\end{equation}
\begin{equation}\label{eqn:inclinedFlowWithoutConstantHeightAssumption:400}
\rho \PD{t}{v} + \rho (u \partial_x + v \partial_y) v = -\partial_y p + \mu \left(\partial_{xx} + \partial_{yy}\right) v - \rho g \cos\alpha
\end{equation}
\begin{equation}\label{eqn:inclinedFlowWithoutConstantHeightAssumption:420}
0 = -\partial_z p
\end{equation}
\begin{equation}\label{eqn:inclinedFlowWithoutConstantHeightAssumption:440}
0 = \partial_x u + \partial_y v.
\end{equation}
\end{subequations}

Now, can we kill the time dependent term?  Even allowing for \(u\) to vary with \(x\) and introducing a non-horizontal flow component, I think that we can.  If the flow at \(x = 0\) is constant, not varying at all with time, I think it makes sense that we will have no time dependence in the flow for \(x \ne 0\).  So, I believe that our starting point is as above, but with the time derivatives killed off.  That is

\begin{subequations}
\label{eqn:inclinedFlowWithoutConstantHeightAssumption:40}
\begin{equation}\label{eqn:inclinedFlowWithoutConstantHeightAssumption:300}
\rho (u \partial_x + v \partial_y) u = -\partial_x p + \mu \left(\partial_{xx} + \partial_{yy}\right) u + \rho g \sin\alpha \\
\end{equation}
\begin{equation}\label{eqn:inclinedFlowWithoutConstantHeightAssumption:320}
\rho (u \partial_x + v \partial_y) v = -\partial_y p + \mu \left(\partial_{xx} + \partial_{yy}\right) v - \rho g \cos\alpha \\
\end{equation}
\begin{equation}\label{eqn:inclinedFlowWithoutConstantHeightAssumption:340}
0 = -\partial_z p \\
\end{equation}
\begin{equation}\label{eqn:inclinedFlowWithoutConstantHeightAssumption:360}
0 = \partial_x u + \partial_y v.
\end{equation}
\end{subequations}

These do not look particularly easy to solve, and we have not even set up the boundary value constraints yet.  Let us do that next.

\section{Boundary value constraints}

One of out constraints is the no-slip condition for the velocity components at the base of the slope

\boxedEquation{eqn:inclinedFlowWithoutConstantHeightAssumption:80}{
u(x, 0) = v(x, 0) = 0.
}

We should also have a zero tangential component to the traction vector at the interface.  We need to consider some geometry, and refer to \cref{fig:inclinedFlowWithoutConstantHeightAssumption:inclinedFlowWithoutConstantHeightAssumptionFig3}

\pdfTexFigure{../../figures/phy454/inclinedFlowWithoutConstantHeightAssumptionFig3.pdf_tex}{Differential vector element}{fig:inclinedFlowWithoutConstantHeightAssumption:inclinedFlowWithoutConstantHeightAssumptionFig3}{0.5}

A position vector on the surface has the value

\begin{equation}\label{eqn:inclinedFlowWithoutConstantHeightAssumption:100}
\Br = x \xcap + h \ycap
\end{equation}

so that a differential element on the surface, tangential to the surface is proportional to

\begin{equation}\label{eqn:inclinedFlowWithoutConstantHeightAssumption:120}
d\Br = \left( \xcap + \ddx{h} \ycap \right) dx
\end{equation}

so our unit tangent vector in the direction depicted in the figure is

\begin{equation}\label{eqn:inclinedFlowWithoutConstantHeightAssumption:140}
\taucap = \inv{\sqrt{1 + (h')^2}} \left( 1, h' \right).
\end{equation}

The outwards facing normal has a value, up to a factor of plus or minus one, of

\begin{equation}\label{eqn:inclinedFlowWithoutConstantHeightAssumption:160}
\ncap =
\inv{\sqrt{1 + (h')^2}} \left( h', -1 \right).
\end{equation}

We can fix the orientation by considering the unit bivector \index{bivector}

\begin{equation}\label{eqn:inclinedFlowWithoutConstantHeightAssumption:900}
\begin{aligned}
\taucap \wedge \ncap &=
\inv{1 + (h')^2}
\left( 1, h' \right)
\wedge
\left( h', -1 \right) \\
&=
\begin{vmatrix}
1 & h' \\
h' & -1
\end{vmatrix}
\Be_1 \Be_2 \\
&=
( -1 - (h')^2 )
\Be_1 \Be_2.
\end{aligned}
\end{equation}

So we really want the other orientation

\begin{equation}\label{eqn:inclinedFlowWithoutConstantHeightAssumption:180}
\ncap = \inv{\sqrt{1 + (h')^2}} \left( -h', 1 \right).
\end{equation}

Our traction vector relative to the normal \(\ncap\) is

\begin{equation}\label{eqn:inclinedFlowWithoutConstantHeightAssumption:920}
\begin{aligned}
\Bt
&= \Be_i T_{ij} n_j \\
&=
\Be_i \left( -p \delta_{ij}
+ \mu e_{ij}
\right) n_j \\
&=
-p \ncap + \mu \Be_i e_{ij} n_j
\end{aligned}
\end{equation}

So the component in the tangential direction is

\begin{equation}\label{eqn:inclinedFlowWithoutConstantHeightAssumption:940}
\begin{aligned}
\Bt \cdot \taucap
&=
-p \cancel{\ncap \cdot \taucap} + \mu \Be_i e_{ij} n_j tau_i \\
&=
\frac{\mu}{1 + (h')^2}
\begin{bmatrix}
1 & h'
\end{bmatrix}
\begin{bmatrix}
e_{11} & e_{12} \\
e_{21} & e_{22}
\end{bmatrix}
\begin{bmatrix}
-h'  \\
1
\end{bmatrix} \\
&=
\frac{\mu}{1 + (h')^2}
\begin{bmatrix}
1 & h'
\end{bmatrix}
\begin{bmatrix}
-h' e_{11} + e_{12} \\
-h' e_{21} + e_{22}
\end{bmatrix} \\
&=
\frac{\mu}{1 + (h')^2}
\left(
-h' e_{11} + e_{12} + h'( -h' e_{21} + e_{22} )
\right) \\
&=
\frac{\mu}{1 + (h')^2}
\left(
h' (e_{22} - e_{11} )
+ e_{12} (1 - (h')^2 )
\right)
\end{aligned}
\end{equation}

Our strain tensor components, for a general 2D flow, are

\begin{equation}\label{eqn:inclinedFlowWithoutConstantHeightAssumption:200}
\begin{aligned}
e_{11} &= \PD{x}{u} \\
e_{22} &= \PD{y}{v} \\
e_{12} &=
\inv{2} \left(
\PD{x}{v} +
\PD{y}{u}
\right).
\end{aligned}
\end{equation}

So, a zero tangential traction vector component at the interface requires

\boxedEquation{eqn:inclinedFlowWithoutConstantHeightAssumption:220}{
0 = h' \left( \evalbar{\left( \PD{y}{v} - \PD{x}{u} \right) +
\inv{2} \left(
\PD{x}{v} +
\PD{y}{u}
\right)
}{y = h}\right)
(1 - (h')^2 ).
}

What is the normal component of the traction vector at the interface?  We can calculate

\begin{equation}\label{eqn:inclinedFlowWithoutConstantHeightAssumption:960}
\begin{aligned}
\Bt \cdot \ncap
&=
-p \ncap \cdot \ncap + \mu \Be_i e_{ij} n_j n_i \\
&=
-p
+
\frac{\mu}{1 + (h')^2}
\begin{bmatrix}
-h' & 1
\end{bmatrix}
\begin{bmatrix}
-h' e_{11} + e_{12} \\
-h' e_{21} + e_{22}
\end{bmatrix} \\
&=
-p
+
\frac{\mu}{1 + (h')^2}
\left(
-h'(-h' e_{11} + e_{12}) -h' e_{21} + e_{22}
\right)  \\
&=
-p
+
\frac{\mu}{1 + (h')^2}
\left(
-2 h' e_{12}
+ (h')^2 e_{11} + e_{22}
\right)
\end{aligned}
\end{equation}

So this component of the traction vector is
\begin{equation}\label{eqn:inclinedFlowWithoutConstantHeightAssumption:240}
\Bt \cdot \ncap
=
-p
+
\frac{\mu}{1 + (h')^2}
\left(
- h'
\left(
\PD{x}{v} +
\PD{y}{u}
\right)
+ (h')^2 \PD{x}{u}
 + \PD{y}{v}
\right)
\end{equation}

For the purely recilinear flow, with \(h' = 0\) and \(v = 0\), as a a consequence of Navier-Stokes and our assumptions, all but the pressure portion of this component of the traction vector was zero.  The force balance equation for the interface was therefore just a matching of the pressure with the external (ie: air) pressure.

In this more general case we have the same thing, but the non-pressure portions of the traction vector are all zero in the medium.  Outside of the fluid (in the air say), we have assumed no motion, so this force balance condition becomes

\begin{equation}\label{eqn:inclinedFlowWithoutConstantHeightAssumption:260}
\evalbar{\Bt \cdot \ncap}{\text{fluid}}
=
\evalbar{\Bt \cdot \ncap}{\text{air}}.
\end{equation}

Again assuming no motion of the air, with air pressure \(p_A\), this is

\boxedEquation{eqn:inclinedFlowWithoutConstantHeightAssumption:280}{
-p(x, h)
+
\evalbar{
\frac{\mu}{1 + (h')^2}
\left(
- h'
\left(
\PD{x}{v} +
\PD{y}{u}
\right)
+ (h')^2 \PD{x}{u}
 + \PD{y}{v}
\right)
}{y = h}
= -p_A
}

Observe that for the horizontal flow problem, where \(h' = 0\) and \(v = 0\), this would have been nothing more than a requirement that \(p(h) = p_A\), but now that we introduce downwards motion and allow the height to vary, the pressure matching condition becomes a much more complex beastie.

\section{Laplacian of Pressure and Vorticity}

Supposing that we are neglecting the non-linear term of the Navier-Stokes equation.  For incompressible steady state flow, without any external forces, we would then have

\begin{subequations}
\begin{equation}\label{eqn:inclinedFlowWithoutConstantHeightAssumption:5}
0 = -\spacegrad p + \mu \spacegrad^2 \Bu
\end{equation}
\begin{equation}\label{eqn:inclinedFlowWithoutConstantHeightAssumption:460}
0 = \spacegrad \cdot \Bu
\end{equation}
\end{subequations}

How do we actually solve this beastie?

\subsection{Separation of variables?}

Considering this in 2D, assuming no z-dependence, with \(\Bu = \Bu(x, y) = (u, v)\) we have

\begin{equation}\label{eqn:nsVorticity:30}
\begin{aligned}
0 &= -\partial_x p + \mu (\partial_{xx} + \partial_{yy} )u \\
0 &= -\partial_y p + \mu (\partial_{xx} + \partial_{yy} )v \\
0 &= \partial_x u + \partial_y v.
\end{aligned}
\end{equation}

Attempting separation of variables seems like something reasonable to try.  With

\begin{equation}\label{eqn:nsVorticity:50}
\begin{aligned}
u &= X(x) Y(y) \\
v &= R(x) S(y) \\
p &= P(x) Q(y)
\end{aligned}
\end{equation}

we get

\begin{equation}\label{eqn:nsVorticity:70}
\begin{aligned}
0 &= -P' Q + \mu (X'' Y + X Y'') \\
0 &= -P Q' + \mu (R'' S + R S'') \\
0 &= X' Y + R S'
\end{aligned}
\end{equation}

I could not find a way to substitute any of these into the other that would allow me to separate them, but perhaps I was not clever enough.

\subsection{In terms of vorticity?}

The idea of substituting the zero divergence equation \(\spacegrad \cdot \Bu\) will clearly lead to something a bit simpler.  Treating the Laplacian as a geometric (Clifford) product of two gradients we have
\index{wedge product}
\index{geometric product}

\begin{equation}\label{eqn:inclinedFlowWithoutConstantHeightAssumption:980}
\begin{aligned}
0
&= -\spacegrad p + \mu \spacegrad^2 \Bu \\
&= -\spacegrad p + \mu \spacegrad ( \spacegrad \Bu ) \\
&= -\spacegrad p + \mu \spacegrad ( \cancel{\spacegrad \cdot \Bu} + \spacegrad \wedge \Bu ) \\
&= -\spacegrad p + \mu \spacegrad ( \spacegrad \wedge \Bu ) \\
&= \spacegrad \left( -p + \mu \spacegrad \wedge \Bu \right)
\end{aligned}
\end{equation}

Writing out the vorticity (bivector) in component form, and writing \(i = \Be_1 \wedge \Be_2 = \Be_1 \Be_2\) for the 2D pseudoscalar \index{pseudoscalar}, we have

\begin{equation}\label{eqn:inclinedFlowWithoutConstantHeightAssumption:1000}
\begin{aligned}
\spacegrad \wedge \Bu
&= (\Be_1 \partial_x + \Be_2 \partial_y) \wedge (\Be_1 u + \Be_2 v) \\
&= \Be_1 \Be_2 (\partial_x v - \partial_y u ) \\
&= i (\partial_x v - \partial_y u )
\end{aligned}
\end{equation}

It seems natural to write

\begin{equation}\label{eqn:inclinedFlowWithoutConstantHeightAssumption:90}
\Theta = \partial_x v - \partial_y u,
\end{equation}

so that Navier-Stokes takes the form

\begin{equation}\label{eqn:inclinedFlowWithoutConstantHeightAssumption:110}
0 = \spacegrad (-p + i \mu \Theta ).
\end{equation}

Operating on this from the left with another gradient we find that this combination of pressure and vorticity must satisfy the following multivector \index{multivector} Laplacian equation

\begin{equation}\label{eqn:inclinedFlowWithoutConstantHeightAssumption:130}
0 = \spacegrad^2 (-p + i \mu \Theta ).
\end{equation}

However, note that \(\spacegrad^2\) is a scalar operator, and this zero identity has both scalar and pure bivector components.  Both must separately equal zero

\begin{subequations}
\label{eqn:inclinedFlowWithoutConstantHeightAssumption:150}
\begin{equation}\label{eqn:inclinedFlowWithoutConstantHeightAssumption:170}
0 = \spacegrad^2 p
\end{equation}
\begin{equation}\label{eqn:inclinedFlowWithoutConstantHeightAssumption:190}
0 = \spacegrad^2 \Theta.
\end{equation}
\end{subequations}

Note that we can obtain \eqnref{eqn:inclinedFlowWithoutConstantHeightAssumption:150} much more directly, if we know that is what we want to do.  Just operate on \eqnref{eqn:inclinedFlowWithoutConstantHeightAssumption:5} with the gradient from the left right off the bat.  We find

\begin{equation}\label{eqn:inclinedFlowWithoutConstantHeightAssumption:1020}
\begin{aligned}
0
&= -\spacegrad^2 p + \mu \spacegrad^3 \Bu \\
&= -\spacegrad^2 p + \mu \spacegrad^2 (\spacegrad \Bu) \\
&= -\spacegrad^2 p + \mu \spacegrad^2 (\spacegrad \wedge \Bu) \\
\end{aligned}
\end{equation}

Again, we have a multivector equation scalar and bivector parts, that must separately equal zero.  With the magnitude of the vorticity \(\Theta\)  given by \eqnref{eqn:inclinedFlowWithoutConstantHeightAssumption:90}, we once again obtain \eqnref{eqn:inclinedFlowWithoutConstantHeightAssumption:150}.  This can be done in plain old vector algebra as well by operating on the left not by the gradient, but separately with a divergence and curl operator.

\subsection{Pressure and vorticity equations with the non-linear term retained}

If we add back in our body force, and assume that it is constant (i.e. gravity), then this this will get killed with the application of the gradient.  We will still end up with one Laplacian for pressure, and one for vorticity.  That is not the case for the inertial \((\Bu \cdot \spacegrad) \Bu\) term of Navier-Stokes.  Let us take the divergence and curl of this and see how we have to modify the Laplacian equations above.

Starting with the divergence, with summation implied over repeated indices, we have

\begin{equation}\label{eqn:inclinedFlowWithoutConstantHeightAssumption:1040}
\begin{aligned}
\spacegrad \cdot ((\Bu \cdot \spacegrad) \Bu)
&=
\partial_k ( \Bu \cdot \spacegrad u_k ) \\
&=
\partial_k ( u_m \partial_m u_k ) \\
&=
(\partial_k u_m) (\partial_m u_k )
+ u_m \partial_m \partial_k u_k \\
&=
\sum_k (\partial_k u_k)^2
+
\sum_{k \ne m} (\partial_k u_m) (\partial_m u_k )
+ (\Bu \cdot \spacegrad) ( \spacegrad \cdot \Bu )
\end{aligned}
\end{equation}

So we have

\begin{equation}\label{eqn:inclinedFlowWithoutConstantHeightAssumption:480}
\spacegrad \cdot ((\Bu \cdot \spacegrad) \Bu)
=
\sum_k (\partial_k u_k)^2
+
2 \sum_{k < m} (\partial_k u_m) (\partial_m u_k )
+ (\Bu \cdot \spacegrad) ( \spacegrad \cdot \Bu )
\end{equation}

We are working with the \(\spacegrad \cdot \Bu = 0\) incompressibility assumption so we kill off the last term.  Our velocity ends up introducing a non-homogeneous forcing term to the Laplacian pressure equation and we have got something trickier to solve

\boxedEquation{eqn:inclinedFlowWithoutConstantHeightAssumption:500}{
\rho \sum_k (\partial_k u_k)^2
+
2 \rho \sum_{k < m} (\partial_k u_m) (\partial_m u_k )
=
-\spacegrad^2 p.
}

Now let us see how our vorticity Laplacian needs to be modified.  Taking the curl of the impulsive term we have

\begin{equation}\label{eqn:inclinedFlowWithoutConstantHeightAssumption:1060}
\begin{aligned}
\spacegrad \wedge ((\Bu \cdot \spacegrad) \Bu)
&=
\Be_k \partial_k \wedge ( u_m \partial_m u_n \Be_n ) \\
&=
(\Be_k \wedge \Be_n) \partial_k ( u_m \partial_m u_n ) \\
&=
(\Be_k \wedge \Be_n)
\left(
(\partial_k u_m) (\partial_m u_n )
+u_m \partial_m \partial_k u_n
\right) \\
&=
(\Be_k \wedge \Be_n)
\left(
(\partial_k u_m) (\partial_m u_n )
+ (\Bu \cdot \spacegrad) \partial_k u_n
\right)
\end{aligned}
\end{equation}

So we have
\begin{equation}\label{eqn:inclinedFlowWithoutConstantHeightAssumption:520}
\spacegrad \wedge ((\Bu \cdot \spacegrad) \Bu)
=
(\spacegrad u_m) \wedge (\partial_m \Bu)
+ (\Bu \cdot \spacegrad) (\spacegrad \wedge \Bu)
\end{equation}

Putting things back together, our vorticity equation is

\begin{equation}\label{eqn:inclinedFlowWithoutConstantHeightAssumption:540}
\rho (\spacegrad u_m) \wedge (\partial_m \Bu)
+ \rho (\Bu \cdot \spacegrad) (\spacegrad \wedge \Bu)
=
\mu \spacegrad^2 (\spacegrad \wedge \Bu)
\end{equation}

Or, with

\begin{equation}\label{eqn:inclinedFlowWithoutConstantHeightAssumption:560}
\BOmega = \spacegrad \wedge \Bu,
\end{equation}

this is

\boxedEquation{eqn:inclinedFlowWithoutConstantHeightAssumption:580}{
(\spacegrad u_m) \wedge (\partial_m \Bu) + (\Bu \cdot \spacegrad) \BOmega = \nu \spacegrad^2 \BOmega.
}

It is this and \eqnref{eqn:inclinedFlowWithoutConstantHeightAssumption:500} that we really have to solve.  Before moving on, let us write out all the non-boundary condition equations in coordinate form for the 2D case that we are interested in here.  We have

\begin{subequations}
\label{eqn:inclinedFlowWithoutConstantHeightAssumption:599}
\begin{equation}\label{eqn:inclinedFlowWithoutConstantHeightAssumption:600}
\rho \left( \left(\PD{x}{u}\right)^2 +\left(\PD{y}{u}\right)^2 + 2 \PD{y}{u} \PD{x}{v} \right) = -\spacegrad^2 p
\end{equation}
\begin{equation}\label{eqn:inclinedFlowWithoutConstantHeightAssumption:620}
2 \left(
\PD{x}{u} \PD{y}{v}
+\PD{x}{v} \PD{y}{v}
\right)
+ \left( u \PD{x}{} + v \PD{y}{} \right) \Theta
=
\nu \spacegrad^2 \Theta
\end{equation}
\begin{equation}\label{eqn:inclinedFlowWithoutConstantHeightAssumption:640}
\Theta = \PD{x}{v} - \PD{y}{u}
\end{equation}
\end{subequations}

Our solution has to satisfy these equations, as well as still satisfying the original Navier-Stokes system \eqnref{eqn:inclinedFlowWithoutConstantHeightAssumption:40} that includes our gravitational term, and also has to satisfy both of our boundary value constraints \eqnref{eqn:inclinedFlowWithoutConstantHeightAssumption:220}, \eqnref{eqn:inclinedFlowWithoutConstantHeightAssumption:280}, and have \(u(x, 0) = v(x, 0) = 0\).  Wow, what a mess!  And this is all just the steady state problem.  Imagine adding time into the mix too!

\subsection{Reworking slightly}

In \S 40-2 \citep{feynman1963flp:dryWater}, the identity

\begin{equation}\label{eqn:inclinedFlowWithoutConstantHeightAssumption:641}
( \Bu \cdot \spacegrad ) \Bu =
(\spacegrad \cross \Bu) \cross \Bu
+ \inv{2} \spacegrad ( \Bu \cdot \Bu ),
\end{equation}

is used to put the vorticity equation into a form with one additional portion expressed as a gradient.  This is a superior way to handle the inertial term because the curl of that gradient is then killed off.

I have expressed the curl as a wedge product, and not a cross product (either works since they related by a constant duality transformation).  With the wedge product the identity \eqnref{eqn:inclinedFlowWithoutConstantHeightAssumption:641} has different signs.  That is

\begin{equation}\label{eqn:inclinedFlowWithoutConstantHeightAssumption:1080}
\begin{aligned}
\Bu \cdot (\spacegrad \wedge \Bu)
&=
(\Bu \cdot \spacegrad) \Bu
-
\spacegrad' (\Bu' \cdot \Bu) \\
&=
(\Bu \cdot \spacegrad) \Bu
-
\inv{2} \spacegrad (\Bu \cdot \Bu),
\end{aligned}
\end{equation}

Here I have used the Hestenes overdot notation \citep{hestenes1999nfc} to mark the operational range of the gradient \(\spacegrad\) (i.e. indicating that the gradient acts only on one of the \(\Bu\) terms initially).  That gives us

\begin{equation}\label{eqn:inclinedFlowWithoutConstantHeightAssumption:641c}
( \Bu \cdot \spacegrad ) \Bu =
\Bu \cdot (\spacegrad \wedge \Bu)
+
\inv{2} \spacegrad (\Bu \cdot \Bu).
\end{equation}

Navier-Stokes (for incompressible flows) now takes the form

\begin{equation}\label{eqn:inclinedFlowWithoutConstantHeightAssumption:661}
\PD{t}{\Bu} + \Bu \cdot (\spacegrad \wedge \Bu) =
-\spacegrad \left( \frac{p}{\rho} + \frac{1}{2} \Bu^2 + \phi \right) + \nu \spacegrad^2 \Bu,
\end{equation}

where in our problem we have killed the time dependence and have

\begin{equation}\label{eqn:inclinedFlowWithoutConstantHeightAssumption:681}
\phi = -g ( x \sin\alpha, -y \cos\alpha).
\end{equation}

The divergence of \(\Bu \cdot (\spacegrad \wedge \Bu)\) unfortunately is not zero.  For exposition purposes, let us write this out explicitly as a function of the vorticity components

\begin{equation}\label{eqn:inclinedFlowWithoutConstantHeightAssumption:701}
\Omega_{rk} = \partial_r u_k - \partial_k u_r.
\end{equation}

Expanding out that divergence we have

\begin{equation}\label{eqn:inclinedFlowWithoutConstantHeightAssumption:1100}
\begin{aligned}
\spacegrad \cdot (\Bu \cdot (\spacegrad \wedge \Bu))
&=
\spacegrad \cdot \left( u_r \partial_s u_t \Be_r \cdot (\Be_s \wedge \Be_t) \right) \\
&=
\spacegrad \cdot
\left(
 u_r \partial_s u_t (
\delta_{rs} \Be_t
-\delta_{rt} \Be_s
)
\right)
\\
&=
\partial_k
\left(
 u_r \partial_s u_k \delta_{rs}
-
 u_r \partial_k u_t \delta_{rt}
)
\right) \\
&=
\partial_k \left(
u_r
\left( \partial_r u_k - \partial_k u_r \right)
\right)
% \\
%&=
%\partial_k \left(
%u_r
%\Omega_{rk}
%\right)
% \\
%&=
%(\partial_k u_r)
%\left( \partial_r u_k - \partial_k u_r \right)
%+
%u_r \partial_k \left(
%\left( \partial_r u_k - \partial_k u_r \right)
%\right) \\
\end{aligned}
\end{equation}

or

\begin{equation}\label{eqn:inclinedFlowWithoutConstantHeightAssumption:721}
\spacegrad \cdot (\Bu \cdot (\spacegrad \wedge \Bu))
=
\partial_k \left(
u_r
\Omega_{rk}
\right)
%=
%\left(
%\partial_k u_r
%+
%u_r \partial_k
%\right)
%\Omega_{rk}
.
\end{equation}

Let us also, for exposition, expand out the curl of this remaining non-linear term in coordinates.  Being a bit smarter this time, we can avoid expressing \(\Omega\) in terms of \(\spacegrad\) and \(\Bu\) and leave it as a bivector explicitly.  We have

\begin{equation}\label{eqn:inclinedFlowWithoutConstantHeightAssumption:1120}
\begin{aligned}
\spacegrad \wedge (\Bu \cdot \BOmega)
&=
\inv{2} \spacegrad \wedge ( u_m \Omega_{ab} \Be_m \cdot (\Be_a \wedge \Be_b) )
\\
&=
\inv{2} \spacegrad \wedge ( u_m \Omega_{ab} (\delta_{ma} \Be_b - \delta_{mb} \Be_a) )
\\
&=
\inv{2} \spacegrad \wedge (
u_a \Omega_{ab} \Be_b
-u_b \Omega_{ab} \Be_a
)
\\
&=
\spacegrad \wedge (
u_a \Omega_{ab} \Be_b
)
\end{aligned}
\end{equation}

This is

\begin{equation}\label{eqn:inclinedFlowWithoutConstantHeightAssumption:741}
\spacegrad \wedge (\Bu \cdot \BOmega) = \partial_r (u_a \Omega_{ak}) \Be_r \wedge \Be_k.
\end{equation}

The Navier-Stokes equations are now recast in terms of vorticity as

\begin{subequations}
\label{eqn:inclinedFlowWithoutConstantHeightAssumption:759}
\begin{equation}\label{eqn:inclinedFlowWithoutConstantHeightAssumption:760}
%\left(
%\partial_k u_r
%+
%u_r \partial_k
%\right)
%\Omega_{rk}
\spacegrad \cdot (\Bu \wedge \BOmega)
=
-\spacegrad^2 \left( \frac{p}{\rho} + \frac{1}{2} \Bu^2 + \phi \right)
\end{equation}
\begin{equation}\label{eqn:inclinedFlowWithoutConstantHeightAssumption:780}
\PD{t}{\BOmega} + \spacegrad \wedge (\Bu \cdot \BOmega) = \nu \spacegrad^2 \BOmega
\end{equation}
\begin{equation}\label{eqn:inclinedFlowWithoutConstantHeightAssumption:800}
\BOmega = \spacegrad \wedge \Bu
\end{equation}
\begin{equation}\label{eqn:inclinedFlowWithoutConstantHeightAssumption:820}
\spacegrad \cdot \Bu = 0,
\end{equation}
\end{subequations}

Having restated things with the \(\spacegrad \Bu^2\) term moved to the RHS, let us also now write out \eqnref{eqn:inclinedFlowWithoutConstantHeightAssumption:760} and \eqnref{eqn:inclinedFlowWithoutConstantHeightAssumption:780} in coordinate form (we want this for the 2D case).  This is

\begin{subequations}
\begin{equation}\label{eqn:inclinedFlowWithoutConstantHeightAssumption:840}
\partial_b \left( u_a \Omega_{a b} \right)
=
-\spacegrad^2 \left( \frac{p}{\rho} + \frac{1}{2} \Bu^2 + \phi \right)
\end{equation}
\begin{equation}\label{eqn:inclinedFlowWithoutConstantHeightAssumption:860}
\PD{t}{\Omega_{mn}} +
\partial_m (u_a \Omega_{an})
-\partial_n (u_a \Omega_{am})
=
\nu \spacegrad^2 \Omega_{mn}
\end{equation}
\end{subequations}

For our problem where we have only \(u_1\) and \(u_2\) components, and any \(\partial_3\) operations are zero, we find

\begin{equation}\label{eqn:inclinedFlowWithoutConstantHeightAssumption:1140}
\begin{aligned}
\partial_b \left( u_a \Omega_{a b} \right)
&=
\partial_2 (u_1 \Omega_{12} ) + \partial_1( u_2 \Omega_{21} ) \\
&=
(\partial_2 u_1 - \partial_1 u_2 )\Omega_12
+ u_1 \partial_2 \Omega_{12} - u_2 \partial_1 \Omega_{12} \\
&=
-\Omega_{12}^2 + (u_1 \partial_2 - u_2 \partial_1 ) \Omega_{12} \\
&=
-\Omega_{12}^2 - i \cdot (\Bu \wedge \spacegrad) \Omega_{12} \\
\end{aligned}
\end{equation}

and

\begin{equation}\label{eqn:inclinedFlowWithoutConstantHeightAssumption:1160}
\begin{aligned}
\partial_1 (u_a \Omega_{a 2}) - \partial_2 (u_a \Omega_{a 1})
&=
\partial_1 (u_1 \Omega_{1 2}) - \partial_2 (u_2 \Omega_{2 1}) \\
&=
\partial_1 (u_1 \Omega_{1 2}) + \partial_2 (u_2 \Omega_{1 2}) \\
&=
(\cancel{\partial_1 u_1 + \partial_2 u_2} ) \Omega_{1 2}
+
(u_1 \partial_1 + u_2 \partial_2) \Omega_{1 2} \\
&=
(\Bu \cdot \spacegrad) \Omega_{1 2}
\end{aligned}
\end{equation}

So we have

\begin{subequations}
\begin{equation}\label{eqn:inclinedFlowWithoutConstantHeightAssumption:840a}
\Omega_{12}^2 + i \cdot (\Bu \wedge \spacegrad) \Omega_{12}
=
\spacegrad^2 \left( \frac{p}{\rho} + \frac{1}{2} \Bu^2 + \phi \right)
\end{equation}
\begin{equation}\label{eqn:inclinedFlowWithoutConstantHeightAssumption:860b}
\PD{t}{\Omega_{12}} +
(\Bu \cdot \spacegrad) \Omega_{1 2}
=
\nu \spacegrad^2 \Omega_{1 2}.
\end{equation}
\end{subequations}

Here I have used \(i = \Be_1 \Be_2\) again, so that the pair of differential operators on the LHS of the respective equations above are

\begin{equation}\label{eqn:inclinedFlowWithoutConstantHeightAssumption:880}
\begin{aligned}
i \cdot (\Bu \wedge \spacegrad) &= -u_1 \partial_2 + u_2 \partial_1 \\
\Bu \cdot \spacegrad &= u_1 \partial_1 + u_2 \partial_2.
\end{aligned}
\end{equation}

Note that since \(\spacegrad^2 \phi\) could equal zero (as in our problem) we will likely have additional work to ensure that any solution that we find to this set of equations is also still a solution to our original first order Navier-Stokes equation.

\section{Now what?}

The strategy that I had thought to attempt to tackle this problem, when I had left it like \eqnref{eqn:inclinedFlowWithoutConstantHeightAssumption:599} was something along the following lines

\begin{itemize}
\item First ignore the non-linear terms.  Find solutions for the homogeneous vorticity \index{vorticity} and pressure Laplacian equations that satisfy our boundary value conditions, and use that to find a first solution for \(h(x)\).
\item Use this to solve for \(u\) and \(v\) from the vorticity.
\end{itemize}

However, after reworking it using the identity found in Feynman's dry water chapter, I think it is best not to try to solve it yet, and study some more first.  I have a feeling that there are likely more such techniques that have been developed that will be useful to know before I try to plow my way through things.

Regardless, it is interesting to see just how tricky the equations of motion become when one does not make unrealistic assumptions.  I have a feeling that to actually attempt this specific problem, I may very well need a computer and numerical techniques.
